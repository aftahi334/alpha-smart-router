<svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="-8 -8 1846.640625 549.625" style="max-width: 1846.64px; background-color: white;" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" width="100%" id="my-svg"><style>#my-svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}#my-svg .error-icon{fill:#552222;}#my-svg .error-text{fill:#552222;stroke:#552222;}#my-svg .edge-thickness-normal{stroke-width:2px;}#my-svg .edge-thickness-thick{stroke-width:3.5px;}#my-svg .edge-pattern-solid{stroke-dasharray:0;}#my-svg .edge-pattern-dashed{stroke-dasharray:3;}#my-svg .edge-pattern-dotted{stroke-dasharray:2;}#my-svg .marker{fill:#333333;stroke:#333333;}#my-svg .marker.cross{stroke:#333333;}#my-svg svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#my-svg .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#my-svg .cluster-label text{fill:#333;}#my-svg .cluster-label span,#my-svg p{color:#333;}#my-svg .label text,#my-svg span,#my-svg p{fill:#333;color:#333;}#my-svg .node rect,#my-svg .node circle,#my-svg .node ellipse,#my-svg .node polygon,#my-svg .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#my-svg .flowchart-label text{text-anchor:middle;}#my-svg .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#my-svg .node .label{text-align:center;}#my-svg .node.clickable{cursor:pointer;}#my-svg .arrowheadPath{fill:#333333;}#my-svg .edgePath .path{stroke:#333333;stroke-width:2.0px;}#my-svg .flowchart-link{stroke:#333333;fill:none;}#my-svg .edgeLabel{background-color:#e8e8e8;text-align:center;}#my-svg .edgeLabel rect{opacity:0.5;background-color:#e8e8e8;fill:#e8e8e8;}#my-svg .labelBkg{background-color:rgba(232, 232, 232, 0.5);}#my-svg .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#my-svg .cluster text{fill:#333;}#my-svg .cluster span,#my-svg p{color:#333;}#my-svg div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#my-svg .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#my-svg :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}#my-svg .note&gt;*{fill:#f6f6f6!important;stroke:#bbb!important;stroke-width:1px!important;}#my-svg .note span{fill:#f6f6f6!important;stroke:#bbb!important;stroke-width:1px!important;}</style><g><marker orient="auto" markerHeight="12" markerWidth="12" markerUnits="userSpaceOnUse" refY="5" refX="6" viewBox="0 0 10 10" class="marker flowchart" id="my-svg_flowchart-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"/></marker><marker orient="auto" markerHeight="12" markerWidth="12" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart" id="my-svg_flowchart-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart" id="my-svg_flowchart-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart" id="my-svg_flowchart-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart" id="my-svg_flowchart-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart" id="my-svg_flowchart-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"/></marker><g class="root"><g class="clusters"><g id="Consumer" class="cluster default flowchart-label"><rect height="146.375" width="381.7734375" y="244.75" x="0" ry="0" rx="0" style=""/><g transform="translate(66.734375, 244.75)" class="cluster-label"><foreignObject height="18.5" width="248.3046875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Consumer Thread (Routing/Egress)</span></div></foreignObject></g></g><g id="Producer" class="cluster default flowchart-label"><rect height="122.5" width="224.3359375" y="0" x="1028.296875" ry="0" rx="0" style=""/><g transform="translate(1048.453125, 0)" class="cluster-label"><foreignObject height="18.5" width="184.0234375"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Producer Thread (Ingress)</span></div></foreignObject></g></g><g id="Mem" class="cluster default flowchart-label"><rect height="266" width="1266.328125" y="142.5" x="564.3125" ry="0" rx="0" style=""/><g transform="translate(1108.296875, 142.5)" class="cluster-label"><foreignObject height="18.5" width="178.359375"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">alpha::mem â€” Primitives</span></div></foreignObject></g></g></g><g class="edgePaths"><path marker-end="url(#my-svg_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-START LE-POOL" id="L-START-POOL-0" d="M224.719,193L250.895,193C277.07,193,329.422,193,370.809,193C412.197,193,442.62,193,473.043,193C503.466,193,533.889,193,552.4,193.628C570.91,194.256,577.508,195.511,580.807,196.139L584.106,196.767"/><path marker-end="url(#my-svg_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-P0 LE-POOL" id="L-P0-POOL-0" d="M1127.005,87.5L1110.553,119.583C1094.102,151.667,1061.199,215.833,1027.205,247.917C993.211,280,958.125,280,920.573,274.485C883.021,268.969,843.002,257.939,822.993,252.424L802.984,246.908"/><path marker-end="url(#my-svg_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-POOL LE-P0" id="L-POOL-P0-0" d="M817.781,202.911L835.324,200.363C852.867,197.815,887.953,192.72,923.039,190.173C958.125,187.625,993.211,187.625,1024.979,171.598C1056.747,155.571,1085.197,123.518,1099.423,107.491L1113.648,91.464"/><path marker-end="url(#my-svg_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-P0 LE-SPSC" id="L-P0-SPSC-0" d="M1227.633,52.993L1231.799,52.598C1235.966,52.204,1244.299,51.414,1266.857,78.249C1289.414,105.083,1326.195,159.542,1376.861,197.553C1427.527,235.565,1492.078,257.13,1524.353,267.913L1556.628,278.696"/><path marker-end="url(#my-svg_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-SPSC LE-C0" id="L-SPSC-C0-0" d="M1523.993,332.375L1497.157,338.417C1470.321,344.458,1416.649,356.542,1371.422,362.583C1326.195,368.625,1289.414,368.625,1252.329,368.625C1215.243,368.625,1177.854,368.625,1140.465,368.625C1103.076,368.625,1065.686,368.625,1029.449,368.625C993.211,368.625,958.125,368.625,904,368.625C849.875,368.625,776.711,368.625,716.923,368.625C657.135,368.625,610.724,368.625,572.307,368.625C533.889,368.625,503.466,368.625,473.043,368.625C442.62,368.625,412.197,368.625,387.148,366.628C362.099,364.631,342.424,360.637,332.586,358.64L322.749,356.643"/><path marker-end="url(#my-svg_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-C0 LE-POOL" id="L-C0-POOL-0" d="M301.929,303.625L315.236,300.479C328.544,297.333,355.159,291.042,383.678,287.896C412.197,284.75,442.62,284.75,473.043,284.75C503.466,284.75,533.889,284.75,562.26,278.583C590.631,272.416,616.949,260.083,630.108,253.916L643.267,247.749"/><path marker-end="url(#my-svg_flowchart-pointEnd)" style="fill:none;stroke-width:2px;stroke-dasharray:3;" class="edge-thickness-normal edge-pattern-dotted flowchart-link LS-P0 LE-SPSC" id="L-P0-SPSC-1" d="M1227.633,77.278L1231.799,78.044C1235.966,78.81,1244.299,80.343,1266.857,109.588C1289.414,138.833,1326.195,195.792,1367.459,228.707C1408.723,261.622,1454.469,270.494,1477.342,274.93L1500.215,279.366"/><path marker-end="url(#my-svg_flowchart-pointEnd)" style="fill:none;stroke-width:2px;stroke-dasharray:3;" class="edge-thickness-normal edge-pattern-dotted flowchart-link LS-C0 LE-SPSC" id="L-C0-SPSC-0" d="M317.555,329.875L328.258,329.875C338.961,329.875,360.367,329.875,386.282,329.875C412.197,329.875,442.62,329.875,473.043,329.875C503.466,329.875,533.889,329.875,572.307,329.875C610.724,329.875,657.135,329.875,716.923,329.875C776.711,329.875,849.875,329.875,904,329.875C958.125,329.875,993.211,329.875,1029.449,329.875C1065.686,329.875,1103.076,329.875,1140.465,329.875C1177.854,329.875,1215.243,329.875,1252.329,329.875C1289.414,329.875,1326.195,329.875,1362.096,328.387C1397.997,326.899,1433.018,323.922,1450.529,322.434L1468.039,320.946"/></g><g class="edgeLabels"><g transform="translate(473.04296875, 193)" class="edgeLabel"><g transform="translate(-66.26953125, -9.25)" class="label"><foreignObject height="18.5" width="132.5390625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">allocate N packets</span></div></foreignObject></g></g><g transform="translate(923.0390625, 280)" class="edgeLabel"><g transform="translate(-69.84375, -9.25)" class="label"><foreignObject height="18.5" width="139.6875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">acquire() from pool</span></div></foreignObject></g></g><g transform="translate(923.0390625, 187.625)" class="edgeLabel"><g transform="translate(-48.80859375, -9.25)" class="label"><foreignObject height="18.5" width="97.6171875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">PacketHandle</span></div></foreignObject></g></g><g transform="translate(1362.9765625, 214)" class="edgeLabel"><g transform="translate(-85.34375, -9.25)" class="label"><foreignObject height="18.5" width="170.6875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">enqueue(PacketHandle)</span></div></foreignObject></g></g><g transform="translate(923.0390625, 368.625)" class="edgeLabel"><g transform="translate(-36.62109375, -9.25)" class="label"><foreignObject height="18.5" width="73.2421875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">dequeue()</span></div></foreignObject></g></g><g transform="translate(473.04296875, 284.75)" class="edgeLabel"><g transform="translate(-59.5625, -9.25)" class="label"><foreignObject height="18.5" width="119.125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">release() to pool</span></div></foreignObject></g></g><g transform="translate(1362.9765625, 252.75)" class="edgeLabel"><g transform="translate(-79.890625, -9.5)" class="label"><foreignObject height="19" width="159.78125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">if full â†’ drop/backoff</span></div></foreignObject></g></g><g transform="translate(923.0390625, 329.875)" class="edgeLabel"><g transform="translate(-80.2578125, -9.5)" class="label"><foreignObject height="19" width="160.515625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">if empty â†’ wait/yield</span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(190.88671875, 329.875)" data-id="C0" data-node="true" id="flowchart-C0-3" class="node default default flowchart-label"><rect height="52.5" width="253.3359375" y="-26.25" x="-126.66796875" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-119.16796875, -18.75)" style="" class="label"><rect/><foreignObject height="37.5" width="238.3359375"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Process:<br />Path Selection â†’ QoS â†’ Failover</span></div></foreignObject></g></g><g transform="translate(1140.46484375, 61.25)" data-id="P0" data-node="true" id="flowchart-P0-2" class="node default default flowchart-label"><rect height="52.5" width="174.3359375" y="-26.25" x="-87.16796875" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-79.66796875, -18.75)" style="" class="label"><rect/><foreignObject height="37.5" width="159.3359375"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">RX loop:<br />read NIC â†’ fill Packet</span></div></foreignObject></g></g><g transform="translate(703.546875, 219.5)" data-id="POOL" data-node="true" id="flowchart-POOL-0" class="node default default flowchart-label"><rect height="52" width="228.46875" y="-26" x="-114.234375" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-106.734375, -18.5)" style="" class="label"><rect/><foreignObject height="37" width="213.46875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">PacketPool<br />(fixed-capacity, preallocated)</span></div></foreignObject></g></g><g transform="translate(1639.48046875, 306.375)" data-id="SPSC" data-node="true" id="flowchart-SPSC-1" class="node default default flowchart-label"><rect height="52" width="332.3203125" y="-26" x="-166.16015625" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-158.66015625, -18.5)" style="" class="label"><rect/><foreignObject height="37" width="317.3203125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">SPSC Queue<br />(single-producer, single-consumer, bounded)</span></div></foreignObject></g></g><g transform="translate(190.88671875, 193)" data-id="START" data-node="true" id="flowchart-START-4" class="node default default flowchart-label"><rect height="33.5" width="67.6640625" y="-16.75" x="-33.83203125" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-26.33203125, -9.25)" style="" class="label"><rect/><foreignObject height="18.5" width="52.6640625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Startup</span></div></foreignObject></g></g><g transform="translate(190.88671875, 479.875)" data-id="NOTE1" data-node="true" id="flowchart-NOTE1-16" class="node default note flowchart-label"><rect height="107.5" width="331.7734375" y="-53.75" x="-165.88671875" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-158.38671875, -46.25)" style="" class="label"><rect/><foreignObject height="92.5" width="316.7734375"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Guarantees:<br />â€¢ No dynamic allocation after startup<br />â€¢ Bounded memory &amp; backpressure via SPSC<br />â€¢ Zero-copy handles (pool-managed)<br />â€¢ Cache-friendly contiguous slabs</span></div></foreignObject></g></g></g></g></g></svg>